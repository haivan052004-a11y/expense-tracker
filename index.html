<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng D·ª•ng Qu·∫£n L√Ω Chi Ti√™u</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
        import { getDatabase, ref, push, onValue, remove, set } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-database.js";

        // C·∫•u h√¨nh Firebase c·ªßa b·∫°n - Thay th·∫ø b·∫±ng th√¥ng tin c·ªßa b·∫°n
        const firebaseConfig = {
            apiKey: "AIzaSyD0K-i3r8eeCS2zgFY-NcbsRQvo21Wx9zw",
            authDomain: "qltt-d1d49.firebaseapp.com",
            projectId: "qltt-d1d49",
            storageBucket: "qltt-d1d49.firebasestorage.app",
            messagingSenderId: "14226516269",
            appId: "1:14226516269:web:033fc8be2a2d3e8903cba4",
            measurementId: "G-CDBLH4VSD5"
        };

        const app = initializeApp(firebaseConfig);
        
        // Kh·ªüi t·∫°o Realtime Database v√† g√°n v√†o window ƒë·ªÉ script.js c√≥ th·ªÉ truy c·∫≠p
        window.database = getDatabase(app);
        window.ref = ref;
        window.onValue = onValue;
        window.push = push;
        window.remove = remove;
        window.set = set;
    </script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üí∞ Qu·∫£n L√Ω Chi Ti√™u C√° Nh√¢n</h1>
        </header>

        <section class="budget-section">
            <h2>ƒê·∫∑t Ng√¢n S√°ch</h2>
            <form id="budgetForm">
                <input type="number" id="budgetInput" placeholder="Nh·∫≠p ng√¢n s√°ch (VND)" required>
                <button type="submit">ƒê·∫∑t Ng√¢n S√°ch</button>
            </form>
        </section>

        <section class="expense-form-section">
            <h2>Th√™m Kho·∫£n Chi M·ªõi</h2>
            <form id="expenseForm">
                <input type="date" id="dateInput" required>
                <input type="text" id="categoryInput" placeholder="Danh m·ª•c (vd: ƒÇn u·ªëng)" required>
                <input type="number" id="amountInput" placeholder="S·ªë ti·ªÅn (VND)" required>
                <textarea id="noteInput" placeholder="Ghi ch√∫"></textarea>
                <button type="submit" id="addButton">‚ûï Th√™m</button>
            </form>
        </section>

        <section class="summary-section">
            <h2>T·ªïng Quan</h2>
            <div class="summary-box">
                <p>Ng√¢n s√°ch: <span id="budgetDisplay">0 VND</span></p>
                <p>T·ªïng chi ti√™u: <span id="totalSpent">0 VND</span></p>
                <p id="budgetWarning" class="warning-text"></p>
            </div>
        </section>
        
        <section class="stats-section">
            <h2>Th·ªëng K√™ Chi Ti√™u</h2>
            <canvas id="categoryChart"></canvas>
        </section>

        <section class="expense-list-section">
            <h2>Danh S√°ch Chi Ti√™u</h2>
            <table id="expenseTable">
                <thead>
                    <tr>
                        <th>Ng√†y</th>
                        <th>Danh m·ª•c</th>
                        <th>S·ªë ti·ªÅn (VND)</th>
                        <th>Ghi ch√∫</th>
                        <th>H√†nh ƒë·ªông</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
